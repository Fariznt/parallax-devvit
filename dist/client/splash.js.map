{"version":3,"file":"splash.js","sources":["../../node_modules/@devvit/client/node_modules/@devvit/shared-types/webbit.js","../../node_modules/@devvit/client/effects/web-view-mode.js","../../src/client/splash/splash.tsx"],"sourcesContent":["export const noWebbitToken = `0.0.0`;\n/**\n * `RequestContext` token query parameter name on `DevvitPost.entrypointUrl`.\n */\nexport const tokenParam = 'token';\n","import { WebViewImmersiveMode } from '@devvit/protos/json/devvit/ui/effects/web_view/v1alpha/immersive_mode.js';\nimport { emitEffect } from '@devvit/shared-types/client/emit-effect.js';\nimport { tokenParam } from '@devvit/shared-types/webbit.js';\n/**\n * Represents the current web view mode state for the application.\n *\n * @experimental\n */\nexport const getWebViewMode = () => webViewMode(devvit.webViewMode);\n/**\n * Requests expanded mode for the web view.\n * This will display the web view in a larger modal presentation.\n *\n * @param event The gesture that triggered the request, must be a trusted event.\n * @param entry The destination URI name. Eg, `'splash'` or `'default'`. Entry\n *              names are the `devvit.json` `post.entrypoints` keys. Passing the\n *              same entrypoint as currently loaded causes a reload.\n * @returns A promise that resolves request has been received.\n * @throws When already expanded.\n *\n * @experimental\n * @example\n * ```ts\n * button.addEventListener('click', async (event) => {\n *   await requestExpandedMode(event);\n * });\n * ```\n */\nexport function requestExpandedMode(event, entry) {\n    if (devvit.webViewMode === WebViewImmersiveMode.IMMERSIVE_MODE)\n        throw Error('web view is already expanded');\n    return emitModeEffect(WebViewImmersiveMode.IMMERSIVE_MODE, event, entry);\n}\n/**\n * Exits expanded mode for the web view.\n * This will display the web view in an inline presentation.\n *\n * @param event The event that triggered the request, must be a trusted event.\n * @returns A promise that resolves request has been received.\n * @throws When already inlined.\n *\n * @experimental\n * @example\n * ```ts\n * button.addEventListener('click', async (event) => {\n *   await exitExpandedMode(event);\n * });\n * ```\n */\nexport function exitExpandedMode(event) {\n    if (devvit.webViewMode === WebViewImmersiveMode.INLINE_MODE)\n        throw Error('web view is already inlined');\n    return emitModeEffect(WebViewImmersiveMode.INLINE_MODE, event, undefined);\n}\n/**\n * @deprecated This API is deprecated and will be removed in a future release.\n * use window.addEventListener(\"focus\", () => { }) to receive notifications\n * when the web view mode changes back to inline.\n * Adds a listener that is called when the web view mode changes. Initial mode\n * is not reported. Web views in the process of destruction may not receive a\n * mode change event.\n *\n * @param callback The callback to be called when the mode changes.\n * @experimental\n */\nexport function addWebViewModeListener(_) { }\n/**\n * @deprecated This API is deprecated and will be removed in a future release.\n * Removes a listener that was previously added with `addWebViewModeListener`.\n *\n * @param callback The callback to be removed.\n * @experimental\n */\nexport function removeWebViewModeListener(_) { }\nasync function emitModeEffect(mode, event, entry) {\n    if (!event.isTrusted || event.type !== 'click') {\n        console.error('Expanded mode effect ignored due to untrusted event');\n        throw new Error('Untrusted event');\n    }\n    if (entry != null && !devvit.entrypoints[entry])\n        throw Error(`no entrypoint named \"${entry}\"; all entrypoints must appear in \\`devvit.json\\` \\`post.entrypoints\\``);\n    let entryUrl;\n    if (entry) {\n        // Only `DevvitPost.entrypointUrl` has a token.\n        const url = new URL(devvit.entrypoints[entry]);\n        url.searchParams.set(tokenParam, devvit.token);\n        entryUrl = `${url}`;\n    }\n    const type = 9;\n    await emitEffect({\n        type,\n        immersiveMode: { entryUrl, immersiveMode: mode },\n    });\n}\nfunction webViewMode(mode) {\n    switch (mode) {\n        case WebViewImmersiveMode.IMMERSIVE_MODE:\n            return 'expanded';\n        case WebViewImmersiveMode.INLINE_MODE:\n        case WebViewImmersiveMode.UNRECOGNIZED:\n        case WebViewImmersiveMode.UNSPECIFIED:\n        case undefined:\n            return 'inline';\n        default:\n            mode;\n            throw Error(`${mode} not a WebViewImmersiveMode`);\n    }\n}\n","import '../index.css';\n\nimport { navigateTo } from '@devvit/web/client';\nimport { context, requestExpandedMode } from '@devvit/web/client';\nimport { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nexport const Splash = () => {\n  return (\n    <div className=\"flex relative flex-col justify-center items-center min-h-screen gap-4\">\n      <img className=\"object-contain w-1/2 max-w-[250px] mx-auto\" src=\"/snoo.png\" alt=\"Snoo\" />\n      <div className=\"flex flex-col items-center gap-2\">\n        <h1 className=\"text-2xl font-bold text-center text-gray-900 \">\n          Hey {context.username ?? 'user'} ðŸ‘‹\n        </h1>\n        <p className=\"text-base text-center text-gray-600 \">\n          Edit{' '}\n          <span className=\"bg-[#e5ebee]  px-1 py-0.5 rounded\">src/client/splash/splash.tsx</span> to\n          get started.\n        </p>\n      </div>\n      <div className=\"flex items-center justify-center mt-5\">\n        <button\n          className=\"flex items-center justify-center bg-[#d93900] text-white w-auto h-10 rounded-full cursor-pointer transition-colors px-4\"\n          onClick={(e) => requestExpandedMode(e.nativeEvent, 'game')}\n        >\n          Tap to Start\n        </button>\n      </div>\n      <footer className=\"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-3 text-[0.8em] text-gray-600\">\n        <button\n          className=\"cursor-pointer\"\n          onClick={() => navigateTo('https://developers.reddit.com/docs')}\n        >\n          Docs\n        </button>\n        <span className=\"text-gray-300\">|</span>\n        <button\n          className=\"cursor-pointer\"\n          onClick={() => navigateTo('https://www.reddit.com/r/Devvit')}\n        >\n          r/Devvit\n        </button>\n        <span className=\"text-gray-300\">|</span>\n        <button\n          className=\"cursor-pointer\"\n          onClick={() => navigateTo('https://discord.com/invite/R7yu2wh9Qz')}\n        >\n          Discord\n        </button>\n      </footer>\n    </div>\n  );\n};\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <Splash />\n  </StrictMode>\n);\n"],"names":["tokenParam","requestExpandedMode","event","entry","WebViewImmersiveMode","emitModeEffect","mode","entryUrl","url","emitEffect","Splash","jsxs","jsx","context","e","navigateTo","createRoot","StrictMode"],"mappings":"qEAIO,MAAMA,EAAa,QCwBnB,SAASC,EAAoBC,EAAOC,EAAO,CAC9C,GAAI,OAAO,cAAgBC,EAAqB,eAC5C,MAAM,MAAM,8BAA8B,EAC9C,OAAOC,EAAeD,EAAqB,eAAgBF,EAAOC,CAAK,CAC3E,CA0CA,eAAeE,EAAeC,EAAMJ,EAAOC,EAAO,CAC9C,GAAI,CAACD,EAAM,WAAaA,EAAM,OAAS,QACnC,cAAQ,MAAM,qDAAqD,EAC7D,IAAI,MAAM,iBAAiB,EAErC,GAAqB,CAAC,OAAO,YAAYC,CAAK,EAC1C,MAAM,MAAM,wBAAwBA,CAAK,wEAAwE,EACrH,IAAII,EACO,CAEP,MAAMC,EAAM,IAAI,IAAI,OAAO,YAAYL,CAAK,CAAC,EAC7CK,EAAI,aAAa,IAAIR,EAAY,OAAO,KAAK,EAC7CO,EAAW,GAAGC,CAAG,EACrB,CAEA,MAAMC,EAAW,CACb,KAFS,EAGT,cAAe,CAAE,SAAAF,EAAU,cAAeD,CAAI,CACtD,CAAK,CACL,CCtFO,MAAMI,EAAS,IAElBC,EAAAA,KAAC,MAAA,CAAI,UAAU,wEACb,SAAA,CAAAC,MAAC,OAAI,UAAU,6CAA6C,IAAI,YAAY,IAAI,OAAO,EACvFD,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,gDAAgD,SAAA,CAAA,OACvDE,EAAQ,UAAY,OAAO,KAAA,EAClC,EACAF,EAAAA,KAAC,IAAA,CAAE,UAAU,uCAAuC,SAAA,CAAA,OAC7C,IACLC,EAAAA,IAAC,OAAA,CAAK,UAAU,oCAAoC,SAAA,+BAA4B,EAAO,kBAAA,CAAA,CAEzF,CAAA,EACF,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACb,SAAAA,EAAAA,IAAC,SAAA,CACC,UAAU,0HACV,QAAUE,GAAMb,EAAoBa,EAAE,YAAa,MAAM,EAC1D,SAAA,cAAA,CAAA,EAGH,EACAH,EAAAA,KAAC,SAAA,CAAO,UAAU,oFAChB,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,UAAU,iBACV,QAAS,IAAMG,EAAW,oCAAoC,EAC/D,SAAA,MAAA,CAAA,EAGDH,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,IAAC,EACjCA,EAAAA,IAAC,SAAA,CACC,UAAU,iBACV,QAAS,IAAMG,EAAW,iCAAiC,EAC5D,SAAA,UAAA,CAAA,EAGDH,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,IAAC,EACjCA,EAAAA,IAAC,SAAA,CACC,UAAU,iBACV,QAAS,IAAMG,EAAW,uCAAuC,EAClE,SAAA,SAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,EAIJC,EAAAA,WAAW,SAAS,eAAe,MAAM,CAAE,EAAE,OAC3CJ,EAAAA,IAACK,EAAAA,WAAA,CACC,SAAAL,EAAAA,IAACF,EAAA,CAAA,CAAO,CAAA,CACV,CACF","x_google_ignoreList":[0,1]}